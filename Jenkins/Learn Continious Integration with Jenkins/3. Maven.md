# Maven

# Build Process 

![image](https://user-images.githubusercontent.com/107522496/216589565-adc06ee5-3939-45ab-b2c5-8430ebefa50f.png)

Maven is a build tool, so what build mean. Well developers write the code, we call this simply source code.

For example, they are creating a product like a web application, a mobile app. They keep committing the changes to the source code. And while they commit changes, they would like to test it, so they will want to compile the code, especially for the compiled languages like Java, .NET, C, C#. 

So after writing the source code, they will want  to compile it. Once compiled, they want to test the code. If it works as they want it to, they will then package it.  

So the compile process is going to generate some files, the output files, that they package into an archive.

---

![image](https://user-images.githubusercontent.com/107522496/216591303-fedc6de1-2fb7-4b8a-8017-3a8078ee5282.png)

So a source code is generated or changed using programming languages like Java or .Net.

Then the compile process will happen. If the code is Java code, a compiler like JavaC will be used. Once JavaC compiles the source code, it's going to generate the class files.


There'll be unit test or integration tests. These unit tests are tests written by the developers to test their own code. This is not the software testing. So a unit of code will be tested by a unit test. If the code passess this test, the class files will be packaged based on where it is going. For example, if it's a software for a Windows machine, then it will be packaged into an .exe or .msi format.  

jar, war is for Java. So if the product is a Java web application, it will most likely be packaged into a war format.

Developers may also do a health check or code analysis. This process is about finding any upcoming bugs or security vulnerabilities in the code., 

So in short, the above is the entire build process.

however, these are a lot of steps. So developers, along with writing their code, regularly committing their code, and also needing to regularly do this build process, is too much work for them if they have to do it very regularly.

---

# Build Tools to Automate Build Process 

![image](https://user-images.githubusercontent.com/107522496/216592986-1b0daf94-32c7-4d2f-84a8-320f7dd93511.png)

So to automate this build process, there are build tools built to simply automate the build process. Tools such as Mavin, which is for Java. It's based on XML format.

In thr XML file, there are things such as what are the dependencies and what are versioning mechanisms. You then run some maven commands and the maven tool will then execute your build phases, automatically, you don't need to run them manually.

Another tool to build this is ANT but there is more scripting involved in ANT compared to Maven. Another tool to build this is Gradlewhich is in Groovy format.

And there are many other build tools. The oneyou will use is depend on things such as your target programming language.

---

![image](https://user-images.githubusercontent.com/107522496/216594382-374f7dc5-2dc7-4071-9f9e-c11a47838cda.png)

Because I'm focusing on Java source code, we'll be looking more into Maven in this section. MAVEN is a build tool for Java.

---

# Maven Phases 

![image](https://user-images.githubusercontent.com/107522496/216594502-10136588-fad9-46bf-905b-97932a331472.png)

In maven you have multiple phases.

You have first validate, then compile, then test, then package, integration-test, verify, install and deploy.

If you trigger/start any phase, it will first do all the previous phases and then the pne youhave triggered and then move onto the next phases. 

Let's take a look at the different phases

---

![image](https://user-images.githubusercontent.com/107522496/216602050-e5d5faf3-6233-495f-adba-4ef3160ffe17.png)

* `validate`: So if you run the command `mvn validate`  it will just check if the project directory structure is correct and all and that all the necessary information is available
* `compile`: if you run compile, it is going to use the compiler to compile the source code.
* `test`: this is going to execute your unit testing framework. So, this is a test on the source code, so you don't need to deploy the source code anywhere or you don't even need to package it. Developer will use some unit testing framework and your maven test process is going to invoke that and run all the unit test cases and return the result.
* `package`: the package phase is going to take the compiled source code and package it into right distributable format. For example, if the target is a web application, you would be packaging it into java/war format. Now, this packaging method will be already defined in the pom.XML file (we'll have a look at this later)
* `verify`: verify is going to run checks on the integration test results to check the quality criteria has been met or not.
* `install`: the install phase is going to download the dependencies required and keep it in your local repository. So, developers will mention the dependencies of their source code, the dependent library and packages, in the pom.xml file. When you execute any phase, if you're running maven test, it's going to download the dependencies from the internet (from MAVEN repositories) and then use them. The install phase will download all the dependencies and keep it in the local repository so it doesn't need to be downloaded again and again.
* `deploy`: the deploy phase will take your package that you have created and it's going to push it to some remote repository so it can be shared by other developers, other team members, or even the devops engineers who may want to deploy that package to some servers.

---

For the docs, click [here](https://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html).

---

![image](https://user-images.githubusercontent.com/107522496/216604404-e90e84a8-1772-4031-bf05-dd3280b89a1f.png)

In a repository, you will have the source in Java and should also see another file, the pom.xml file. Its in XML format. 

---

![image](https://user-images.githubusercontent.com/107522496/216604811-7023c88d-98be-4b82-bc7f-dd0c09134a53.png)

In the pom.xml file, it wil mention things such as:

* What packaging method will be used?
* What will be the version?
* What are the dependencies?
* groupId
* artifactId.

All this will be mentioned in pom.xml file. In the above example, it will generate `vprofile-v2.war`.

![image](https://user-images.githubusercontent.com/107522496/216605365-a6df9090-5b79-4b1d-ad1d-277e2b283f70.png)

The section in blue is properties, These  will be used in the dependancy section ...

![image](https://user-images.githubusercontent.com/107522496/216605529-71c94a96-1807-4f8b-8fdb-53f14c1130f1.png)

The above is the dependencies. For each dependency, it will provide `groupId`, `artifactId`, `version`. 

Now, again, this will be already provided by the developer, majority of the time. You really don't need to make any changes to the pom.xml file, but sometimes you need to make some changes.

10:00
